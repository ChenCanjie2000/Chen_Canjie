# 0. Git 概述

* Git 是一个免费的、开源的==分布式版本控制工具==，可以高效的处理各种类型的项目

## 0.1 什么是版本控制

* 版本控制是一种记录文件内容变化，以便将来查询特定版本修订情况的系统
* 版本控制最重要的是可以记录文件修改历史记录，从而让用户能够查看历史版本，方便版本切换

## 0.2 版本控制工具

* 集中式版本控制工具
* 分布式版本控制工具

## 0.3 Git 工作机制

![image-20230729134806916](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230729134806916.png)



******



# 1. Git 常用命令

|                命令名称                |        作用        |
| :------------------------------------: | :----------------: |
| `git config --global user.name 用户名` |    设置用户签名    |
| `git config --global user.email 邮箱`  |    设置用户签名    |
|             ==`git init`==             |  ==初始化本地库==  |
|            ==`git status`==            | ==查看本地库状态== |
|          ==`git add 文件名`==          |  ==添加到暂存区==  |
| ==`git commit -m "日志信息" 文件名`==  |  ==提交到本地库==  |
|            ==`git reflog`==            |  ==查看版本信息==  |
|     ==`git reset --hard 版本号`==      |    ==版本穿梭==    |

> * ==Git 中可以尽情使用 Linux 的命令==

## 1.1 设置用户签名

* 基本语法：
    ```
    git config --global user.name 用户名
    git config --global user.email 邮箱
    ```

* 签名的作用是区分不同的操作者身份，用户的签名信息在每一版本的提交信息中都能看到，以此确认本次提交是谁做的

* Git 首次安装必须设置用户签名，否则无法提交代码

## 1.2 初始化本地库 & 查看本地库状态

* 基本语法：
    ```
    git init --> 初始化本地库
    git status --> 查看当前本地库状态
    ```

## 1.3 添加/删除文件到暂存区

* 基本语法：
    ```
    git add 文件名 --> 添加文件到暂存区
    git rm --cached 文件名 --> 从暂存区删除文件
    ```

    > * 当有多个文件时，文件之间用空格隔开

## 1.4 提交到本地库

* 基本语法：
    ```
    git commit -m "日志信息" 文件名
    ```

    > * 当需要提交多个文件时，文件之间用空格隔开

## 1.5 查看版本信息

* 基本语法：
    ```
    git reflog --> 查看本地库所有日志信息（包括提交、分支切换、版本回溯等操作）
    git log --> 查看当前分支版本的历史版本信息
    ```

## 1.6 版本穿梭

* 基本语法：
    ```
    git reset --hard 版本号
    ```



******



# 2. Git 分支操作

|       命令名称        |             作用             |
| :-------------------: | :--------------------------: |
|  `git branch 分支名`  |           创建分支           |
|    `git branch -v`    |           查看分支           |
| `git checkout 分支名` |           切换分支           |
|  `git merge 分支名`   | 把指定的分支合并到当前分支上 |

> * 在查看分支时，前面出现 `*` 号代表当前所在分支
> * ==创建出来的新分支，包含当前分支的所有版本信息==
> * 合并冲突：当前分支和指定分支对同个文件都进行修改，要对这两个分支进行合并即会产生合并冲突
> * 解决合并冲突步骤：
>     * 产生合并冲突的文件，会在文件中呈现不同分支的修改情况，自行对内容进行删减然后进行保存
>     * 保存后的文件需要添加到缓存区
>     * 最后再提交到本地库（注意：==指令中不需要再出现文件名，即 `git commit -m "日志信息"`==）
> * 版本切换实质：切换具体版本记录的指针（例：master、hot-fix）
>     分支切换实质：切换 HEAD 指向不同的分支



******



# 3. 使用 SSH 免密登录

* 步骤：

    * 在 Windows 用户目录下打开 Git 控制台，使用如下命令便会在用户目录下产生 `.ssh` 的文件
        `ssh-keygen -t rsa -C 登录Github的邮箱`

    * 进入 `.ssh` 文件，打开 `id_rsa.pub` 文件复制里面的内容

    * 在 `Github` 设置中，将上一步复制的内容添加到 `New SSh key` 的 `key` 中
        ![image-20230806111015167](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230806111015167.png)

        ![image-20230806111359943](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230806111359943.png)

    * 最后点击 `Add SSH key` 即可



******



# 4. Git 团队协作机制

|               命令名称               |                             作用                             |
| :----------------------------------: | :----------------------------------------------------------: |
| `git remote add 远程库名 远程库链接` |                   连接远程库并设置远程库名                   |
|           `git remote -v`            |                      查看当前所有远程库                      |
|        `git clone 远程库链接`        |                     克隆远程库内容到本地                     |
|    `git push 远程库名 本地分支名`    |            推送本地库指定分支上的最新内容到远程库            |
|    `git pull 远程库名 远程分支名`    | 将远程库指定分支的最新内容拉取到本地，并与本地当前分支进行合并 |

> * ==克隆下来的文件可以使用 `git log` 指令查看当前分支版本记录==
> * 克隆远程库指定分支：`git clone -b 远程分支名 远程库链接`

## 4.1 团队内协作

* 项目所有者添加成员
    ![image-20230731103901405](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230731103901405.png)
    ![image-20230731104049805](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230731104049805.png)
    ![image-20230731104502938](../Markdown_Pics/Git%20%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/image-20230731104502938.png)
